WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WLeafletMap",function(i,e,j,k,l){e.wtObj=this;var c=this;this.map=null;var f={},h=l,g=[j,k];this.addTileLayer=function(a,b){b=JSON.parse(b);L.tileLayer(a,b).addTo(c.map)};this.zoom=function(a){h=a;c.map.setZoom(a)};this.panTo=function(a,b){g=[a,b];c.map.panTo([a,b])};this.addPolyline=function(a,b){b=JSON.parse(b);L.polyline(a,b).addTo(c.map)};this.addCircle=function(a,b){b=JSON.parse(b);L.circle(a,b).addTo(c.map)};this.addMarker=function(a,b){b.addTo(c.map);
f[a]=b};this.removeMarker=function(a){var b=f[a];if(b){c.map.removeLayer(b);delete f[a]}};this.moveMarker=function(a,b){(a=f[a])&&a.setLatLng(b)};this.wtResize=function(){c.map.invalidateSize()};e.wtEncodeValue=function(){var a=c.map.getCenter();a=[a.lat,a.lng];var b=c.map.getZoom();return JSON.stringify({position:a,zoom:b})};this.init=function(a,b){c.map=L.map(e,{center:a,zoom:b});c.map.on("zoomend",function(){var d=c.map.getZoom();if(d!=h){i.emit(e,"zoomLevelChanged",d);h=d}});c.map.on("moveend",
function(){var d=c.map.getCenter();if(d.lat!=g[0]||d.lng!=g[1]){i.emit(e,"panChanged",d.lat,d.lng);g=[d.lat,d.lng]}})};this.init([j,k],l)});
